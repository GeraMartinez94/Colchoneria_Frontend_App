<!-- src/app/components/product-upload/product-upload.component.html -->
<div class="upload-container">
  <h2 class="upload-title">Subir Archivo Excel y Imágenes de Productos</h2>
  <p class="upload-subtitle">Gestiona tu inventario y visualiza tus productos con facilidad.</p>

  <div class="form-section">
    <h3 class="section-title">Datos del Producto (Excel)</h3>
    <div class="form-group file-input-group">
      <label for="excelFile" class="file-input-label">
        <i class="fas fa-file-excel file-icon"></i>
        <span>Selecciona el archivo Excel (.xlsx, .xls)</span>
        <input type="file" id="excelFile" class="hidden-file-input" (change)="onExcelFileSelected($event)" accept=".xlsx, .xls">
      </label>
      <div *ngIf="selectedExcelFile" class="selected-file-info">
        <i class="fas fa-check-circle text-green-500 mr-2"></i>
        <span>Archivo Excel seleccionado: <strong>{{ selectedExcelFile.name }}</strong></span>
      </div>
    </div>
  </div>

  <div class="form-section">
    <h3 class="section-title">Imágenes de Productos (Opcional)</h3>
    <div class="form-group file-input-group">
      <label for="imageFiles" class="file-input-label">
        <i class="fas fa-images file-icon"></i>
        <span>Arrastra y suelta imágenes aquí o haz clic para seleccionar</span>
        <input type="file" id="imageFiles" class="hidden-file-input" (change)="onImageFilesSelected($event)" accept="image/*" multiple>
      </label>
      <small class="file-input-hint">Nombra las imágenes con el SKU o nombre exacto del producto (ej. "SKU123.jpg", "Colchon Visco.png").</small>
      <div *ngIf="selectedImageFiles.length > 0" class="selected-files-list">
        <p class="font-semibold text-gray-700 mb-2">Imágenes seleccionadas ({{ selectedImageFiles.length }}):</p>
        <ul>
          <li *ngFor="let file of selectedImageFiles" class="selected-file-item">
            <i class="fas fa-image text-blue-500 mr-2"></i> {{ file.name }}
          </li>
        </ul>
      </div>
    </div>
  </div>

  <button
    class="upload-button"
    (click)="onUpload()"
    [disabled]="!selectedExcelFile || isLoading"
  >
    <span *ngIf="!isLoading">Subir Datos y Imágenes</span>
    <span *ngIf="isLoading" class="loading-spinner"></span>
    <span *ngIf="isLoading">Subiendo...</span>
  </button>

  <div *ngIf="uploadMessage" class="message-box" [ngClass]="{'success': isSuccess, 'error': !isSuccess}">
    <span>{{ uploadMessage }}</span>
    <ul *ngIf="uploadErrors.length > 0" class="error-list">
      <li *ngFor="let error of uploadErrors"><i class="fas fa-times-circle error-icon"></i> {{ error }}</li>
    </ul>
  </div>

</div>
